From: Michael Froman <mfroman@mozilla.com>
Date: Thu, 7 Aug 2025 11:55:00 -0500
Subject: Bug 1980479 - (fix-1e750debf5) fixes for c++20 support

Mercurial Revision: https://hg.mozilla.org/mozilla-central/rev/43c2cad5c4e576f3b23f71513b23a3adcb248506
---
 api/crypto/crypto_options.cc | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/api/crypto/crypto_options.cc b/api/crypto/crypto_options.cc
index e939f390e5..0f1e3683ef 100644
--- a/api/crypto/crypto_options.cc
+++ b/api/crypto/crypto_options.cc
@@ -106,7 +106,12 @@ CryptoOptions::EphemeralKeyExchangeCipherGroups::GetSupported() {
 }
 
 void CryptoOptions::EphemeralKeyExchangeCipherGroups::AddFirst(uint16_t group) {
+#if defined(WEBRTC_MOZILLA_BUILD)
+  // until we support c++20
+  enabled_.erase(std::remove(enabled_.begin(), enabled_.end(), group));
+#else
   std::erase(enabled_, group);
+#endif
   enabled_.insert(enabled_.begin(), group);
 }
 
